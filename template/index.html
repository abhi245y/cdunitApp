<!DOCTYPE html>
<html lang="en" data-theme="dark">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@next/css/pico.min.css"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />

    <link
      href="https://cdn.datatables.net/v/ju/dt-1.13.8/af-2.6.0/sc-2.3.0/sp-2.2.0/sl-1.7.0/datatables.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.datatables.net/v/ju/dt-1.13.8/af-2.6.0/sc-2.3.0/sp-2.2.0/sl-1.7.0/datatables.min.js"></script>
    <link
      href="{{ url_for('static',filename='styles/style.css') }}"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css"
      rel="stylesheet"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.12.0/headroom.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios@1.1.2/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script src="{{url_for('static', filename='scripts/script.js')}}"></script>
    <script src="{{url_for('static', filename='scripts/postCalls.js')}}"></script>
    <script src="{{url_for('static', filename='scripts/form-submission-handler.js')}}"></script>
    <script src="{{url_for('static', filename='scripts/toggle-theme.js')}}"></script>

    <title>CD Unit</title>
  </head>
  <body>
    <nav class="navbar container-fluid">
      <ul>
        <li><h4>CD UNIT</h4></li>
      </ul>
      <ul>
        <li><a href="#">Bundles List</a></li>
        <li><a href="#">College List</a></li>
        <li><a href="#">Settings</a></li>
        <li>
          <div
            id="data-theme-toggle"
            onclick="toggleTheme()"
            aria-label="Change to light theme"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 32 32"
              fill="currentColor"
              class="theme-toggle moon"
            >
              <clipPath id="theme-toggle-cutout">
                <path d="M0-11h25a1 1 0 0017 13v30H0Z"></path>
              </clipPath>
              <g clip-path="url(#theme-toggle-cutout)">
                <circle cx="16" cy="16" r="8.4"></circle>
                <path
                  d="M18.3 3.2c0 1.3-1 2.3-2.3 2.3s-2.3-1-2.3-2.3S14.7.9 16 .9s2.3 1 2.3 2.3zm-4.6 25.6c0-1.3 1-2.3 2.3-2.3s2.3 1 2.3 2.3-1 2.3-2.3 2.3-2.3-1-2.3-2.3zm15.1-10.5c-1.3 0-2.3-1-2.3-2.3s1-2.3 2.3-2.3 2.3 1 2.3 2.3-1 2.3-2.3 2.3zM3.2 13.7c1.3 0 2.3 1 2.3 2.3s-1 2.3-2.3 2.3S.9 17.3.9 16s1-2.3 2.3-2.3zm5.8-7C9 7.9 7.9 9 6.7 9S4.4 8 4.4 6.7s1-2.3 2.3-2.3S9 5.4 9 6.7zm16.3 21c-1.3 0-2.3-1-2.3-2.3s1-2.3 2.3-2.3 2.3 1 2.3 2.3-1 2.3-2.3 2.3zm2.4-21c0 1.3-1 2.3-2.3 2.3S23 7.9 23 6.7s1-2.3 2.3-2.3 2.4 1 2.4 2.3zM6.7 23C8 23 9 24 9 25.3s-1 2.3-2.3 2.3-2.3-1-2.3-2.3 1-2.3 2.3-2.3z"
                ></path>
              </g>
            </svg>
          </div>
        </li>
      </ul>
    </nav>
    <main>
      <div class="container">
        <article>
          <hgroup>
            <h2>Add Bundles</h2>
            <p>Enter collected bundle details to add it to database.</p>
          </hgroup>
          <form id="add-bundles-form">
            <div class="grid">
              <select required id="routes-select">
                <option selected disabled hidden value="">Select route</option>
              </select>
              <select required id="messengers-select">
                <option selected disabled hidden value="">
                  Select Messenger
                </option>
              </select>
              <input type="date" aria-label="Date" id="received-date-input" />
            </div>
            <select name="college-select-tag" required id="college-select">
              <option selected disabled hidden value="">
                Select a College
              </option>
            </select>
            <div class="grid">
              <div role="group">
                <select required style="width: 60%" id="qp-series-select">
                  <option selected disabled hidden value="">
                    Select QP Series
                  </option>
                </select>
                <input
                  type="text"
                  placeholder="Enter QP Code"
                  aria-label="Text"
                  id="qp-code-input"
                />
              </div>
              <input
                type="number"
                id="bundle-quantity-input"
                class="p-input"
                value="1"
                style="width: 15%"
              />
            </div>
            <fieldset>
              <legend>Additional Info:</legend>
              <input type="checkbox" id="nil-check" name="nil" />
              <label htmlFor="nil">Nil</label>
              <input
                type="checkbox"
                id="malpractice-check"
                name="malpractice"
              />
              <label htmlFor="malpractice">Malpractice</label>
            </fieldset>
            <textarea
              placeholder="Remarks"
              id="remarks-textarea"
              aria-label="Remarks"
            ></textarea>

            <div class="grid">
              <input type="submit" id="add-bundles-button" value="Add Bundle" />
              <input type="reset" id="reset-button" />
            </div>
          </form>
          <fieldset>
            <div class="grid">
              <div
                style="width: fit-content"
                data-tooltip="Checking connection"
                data-placement="right"
                id="status-tooltip"
                onclick="checkDbConnection()"
              >
                <span>Database Status: </span>
                <i
                  id="db-connection-icon"
                  class="fa-solid fa-database"
                  style="color: #77767b"
                ></i>
              </div>
            </div>
          </fieldset>
        </article>
      </div>

      <div class="container-fluid table-container" style="width: 80%">
        <article>
          <figure>
            <table class="bundles-list-table">
              <thead>
                <tr>
                  <th scope="col">Series</th>
                  <th scope="col">QP Code</th>
                  <th scope="col">Nil</th>
                  <th scope="col">Received Date</th>
                  <th scope="col">Messenger</th>
                  <th scope="col">College Name</th>
                  <th scope="col">Remarks</th>
                  <th scope="col">Action</th>
                </tr>
              </thead>
            </table>
          </figure>
        </article>
      </div>

      <dialog id="modal-edit-row-entry">
        <article>
          <a
            href="#close"
            aria-label="Close"
            class="close"
            data-target="modal-example"
            onClick="toggleModal(event)"
          >
          </a>
          <h3>Confirm your action!</h3>
          <p>
            Cras sit amet maximus risus. Pellentesque sodales odio sit amet
            augue finibus pellentesque. Nullam finibus risus non semper euismod.
          </p>
          <footer>
            <a
              href="#cancel"
              role="button"
              class="secondary"
              data-target="modal-example"
              onClick="toggleModal(event)"
            >
              Cancel
            </a>
            <a
              href="#confirm"
              role="button"
              data-target="modal-example"
              onClick="toggleModal(event)"
            >
              Confirm
            </a>
          </footer>
        </article>
      </dialog>
    </main>
  </body>
  <script>
    $(document).ready(function () {
      $(".bundles-list-table").DataTable({
        language: {
          emptyTable: "Please add data to Table",
        },
      });
    });
    const navbar = document.querySelector(".navbar");
    const headroom = new Headroom(navbar, {
      // Threshold for activating sticky behavior (default: 50px)
      threshold: "10px",
      stickyClass: "sticky",
      easing: "ease-in-out",
    });

    // Start observing for scroll changes
    headroom.init();
  </script>
</html>
